<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script  src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>
<body>
    <button class="ml-1 mt-5 btn-sm  w-25 btn-dark bg-danger btn-block" onclick="change()">
        <span class="fa fa-spin fa-spinner " id="load"></span>TESTING</button>
    
    <script>
  const getTodos = (callback) => {
    const request = new XMLHttpRequest();

request.addEventListener('readystatechange', () => {
    // console.log(request, request.readyState);
    if(request.readyState === 4 && request.status === 200 ){
       callback(undefined, request.responseText);
    } else if(request.readyState === 4 ){
        callback('could not fetch data', undefined);
    }
});

request.open('GET', 'https://jsonplaceholder.typicode.com/todoss/');
request.send(); 
  };

  getTodos((err,data) => {
console.log('callback fired');
console.log(err,data)
  })

//         console.log (1);
//         console.log (2);
//         setTimeout(() => {
//            console.log('callback function fired'); 
//         }, 2000);
//  console.log(3); 
//  console.log(4);
//         function change(){
//             load.classlist.toggle ('d-none')
//              let p =new Promise((resolve,reject)=>{ setTimeout(() => {
//     return reject(new Error('something went wrong'))
//   }, 1000);
// })
//  let b=p.then(function(res){
//     log(res)},
//     ).catch(function (er){
//     log(er)
//  }).finally(()=> loader.classlist.toggle('d-none'))      
 
// }




    </script>
</body>
</html>